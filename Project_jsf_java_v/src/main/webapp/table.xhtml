<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsf/core"
      xmlns:f="http://java.sun.com/jsf/core"



      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <title>Greeting Page</title>
    <h:outputStylesheet library="webjars" name="bootstrap/5.3.2/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>


</h:head>

<h:body>

    <h:form>
        <div class="d-flex justify-content-between align-items-center m-2" >
            <div>
                <img src="image/img.png" width="150" height="100"  alt="ENSA"/>
            </div>
            <div>

        <h:panelGrid columns="3">

            Language :
            <h:selectOneMenu class="form-select" style="cursor: pointer;" aria-label="Disabled select example" value="#{language.localeCode}" onchange="submit()"
                             valueChangeListener="#{language.countryLocaleCodeChanged}" >
                <f:selectItems value="#{language.countriesInMap}" />
            </h:selectOneMenu>

        </h:panelGrid>
            </div>
        </div>

    </h:form>

    <br/>
    <h2><h:outputText value="#{msg['h2']}" /></h2>
    <hr/>

    <h:form>
        <h:dataTable class="table table table-striped table-bordered table-hover" value="#{user.usersList}" var="user" varStatus="status">
            <!--            <h:column > <c:facet name="header" class="bg-success">Nom</c:facet>
                           <h:outputText value="#{user.nom}"/>
                        </h:column> -->

            <h:column  >
                <c:facet name="header" class="bg-success" >
                    <h:outputText  value="#{msg['nom']}"/>
                </c:facet>
                <h:outputText rendered="#{ not user.selectedId()}" value="#{user.nom}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="name" value="#{user.nom}" />
            </h:column>
            <h:column  >
                <c:facet name="header" class="bg-success" >
                    <h:outputText value="#{msg['prenom']}"/>
                </c:facet>
                <h:outputText rendered="#{not user.selectedId()}" value="#{user.prenom}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="prenom" value="#{user.prenom}" />
            </h:column>
            <h:column >
                <c:facet  name="header" class="bg-success">Email</c:facet>
                <h:outputText rendered="#{not user.selectedId()}" value="#{user.email}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="email" value="#{user.email}" />
            </h:column>
            <h:column >
                <c:facet  name="header" class="bg-success">Age</c:facet>
                <h:outputText rendered="#{not user.selectedId()}" value="#{user.age}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="age" value="#{user.age}" />
            </h:column>


            <!--        <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="name" value="#{user.nom}" /></h:column>
                    <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="prenom" value="#{user.prenom}" /></h:column>
                    <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="age" value="#{user.age}" /></h:column>
                    <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="email" value="#{user.email}" /></h:column>
                    -->
            <h:column>

                <c:facet name="header">Actions</c:facet>
                <h:commandButton styleClass="btn btn-warning me-4" value="#{msg['button.edit']}" action="#{user.edituser(user.id)}"/>
                <h:commandButton styleClass="btn btn-danger" value="#{msg['button.delete']}" action="#{user.deleteuser(user.id)}"/>
            </h:column>

        </h:dataTable>



        <!-- Pagination -->
        <div class="d-flex justify-content-between">
        <div class="m-3">
        <h:commandLink value="" action="#{user.previousPage()}" rendered="#{user.currentPage > 1}"  class="page-link bg-primary text-white rounded-start fs-3">
        <i class="fas fa-chevron-left"></i>
        </h:commandLink>
        </div>
        <div class="text-end m-3">

        <h:commandLink value="" action="#{user.nextPage()}" rendered="#{user.totalPageCount > user.currentPage}" class="page-link bg-primary text-white rounded-end fs-3">
            <i class="fas fa-chevron-right"></i>
        </h:commandLink>
        </div>
        </div>




    </h:form>
    <h:form>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h:commandButton class="btn btn-primary me-md-2" value="#{msg['button.save']}" action="#{user.saveChanges()}" />
                </div>

                <div class="col-md-6 text-right">
                    <h:commandButton class="btn btn-primary text-right" value="#{msg['button.add']}" action="formulaire" />
                </div>
            </div>
        </div>
    </h:form>


</h:body>


</html>









