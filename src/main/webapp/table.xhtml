<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Greeting Page</title>
    <h:outputStylesheet library="webjars" name="bootstrap/5.3.2/css/bootstrap.min.css"/>

</h:head>

<h:body>
    <h2>Data table example</h2>
    <hr/>

    <h:form>
        <h:dataTable class="table" value="#{user.usersList}" var="user" varStatus="status">
<!--            <h:column > <c:facet name="header" class="bg-success">Nom</c:facet>
               <h:outputText value="#{user.nom}"/>
            </h:column> -->

            <h:column  >
                <c:facet name="header" class="bg-success">Nom</c:facet>
                <h:outputText rendered="#{ not user.selectedId()}" value="#{user.nom}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="name" value="#{user.nom}" />
            </h:column>
            <h:column  >
                <c:facet name="header" class="bg-success">Prenom</c:facet>
                <h:outputText rendered="#{not user.selectedId()}" value="#{user.prenom}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="prenom" value="#{user.prenom}" />
            </h:column>
            <h:column >
                <c:facet  name="header" class="bg-success">Email</c:facet>
                <h:outputText rendered="#{not user.selectedId()}" value="#{user.email}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="email" value="#{user.email}" />
            </h:column>
            <h:column >
                <c:facet  name="header" class="bg-success">Age</c:facet>
                <h:outputText rendered="#{not user.selectedId()}" value="#{user.age}"/>
                <h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="age" value="#{user.age}" />
            </h:column>


    <!--        <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="name" value="#{user.nom}" /></h:column>
            <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="prenom" value="#{user.prenom}" /></h:column>
            <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="age" value="#{user.age}" /></h:column>
            <h:column ><h:inputText rendered="#{user.isEditMode() and user.selectedId()}" class="form-control" id="email" value="#{user.email}" /></h:column>
            -->
                <h:column>

                <c:facet name="header">Actions</c:facet>
                <h:commandButton styleClass="btn btn-primary me-4" value="Edit" action="#{user.edituser(user.id)}"/>
                <h:commandButton styleClass="btn btn-danger" value="Delete" action="#{user.deleteuser(user.id)}"/>
            </h:column>

        </h:dataTable>
    </h:form>
    <h:form>
        <h:commandButton class="btn btn-primary me-md-2" value="Save Changes" action="#{user.saveChanges()}" />
        <h:commandButton class="btn btn-primary" value="Add User" action="formulaire" />
    </h:form>


</h:body>


</html>
